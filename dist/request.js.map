{"version":3,"file":"request.js","sourceRoot":"","sources":["../src/request.ts"],"names":[],"mappings":";;;AAAA,2CAAuC;AAGhC,MAAM,OAAO,GAAG,KAAK,EAC1B,SAA6B,EAC7B,MAAc,EACd,GAAW,EACX,IAA8B,EAC9B,eAAe,GAAG,IAAI;AACtB,8DAA8D;EAChD,EAAE;IAChB,IAAI,CAAC,SAAS,IAAI,eAAe,EAAE;QACjC,OAAO,CAAC,KAAK,CAAC,6BAA6B,CAAC,CAAC;QAC7C,OAAO;KACR;IACD,MAAM,aAAa,GAAkB;QACnC,MAAM;QACN,OAAO,EAAE;YACP,MAAM,EAAE,kBAAkB;YAC1B,cAAc,EAAE,kBAAkB;SACnC;KACF,CAAC;IACF,IAAI,eAAe,EAAE;QACnB,aAAa,CAAC,OAAO,CAAC,aAAa,GAAG,UAAU,SAAS,EAAE,CAAC;KAC7D;IACD,IAAI,MAAM,KAAK,MAAM,IAAI,IAAI,EAAE;QAC7B,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;KAC3C;IACD,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,oBAAQ,GAAG,GAAG,EAAE,EAAE,aAAa,CAAC,CAAC;IACjE,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;AACzB,CAAC,CAAC;AA3BW,QAAA,OAAO,WA2BlB","sourcesContent":["import { APP_ROOT } from \"./constants\";\nimport { RequestObject } from \"./types\";\n\nexport const request = async (\n  authToken: string | undefined,\n  method: string,\n  url: string,\n  data?: Record<string, unknown>,\n  isAuthenticated = true\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n): Promise<any> => {\n  if (!authToken && isAuthenticated) {\n    console.error(\"--- UNAUTHORISED ACCESS ---\");\n    return;\n  }\n  const requestObject: RequestObject = {\n    method,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  };\n  if (isAuthenticated) {\n    requestObject.headers.Authorization = `Bearer ${authToken}`;\n  }\n  if (method === \"POST\" && data) {\n    requestObject.body = JSON.stringify(data);\n  }\n  const response = await fetch(`${APP_ROOT}${url}`, requestObject);\n  return response.json();\n};\n"]}